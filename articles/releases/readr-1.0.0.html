<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>readr 1.0.0 • readr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><link href="../../tidyverse-2.css" rel="stylesheet">
<meta property="og:title" content="readr 1.0.0">
<meta property="og:description" content="">
<meta property="og:image" content="https://readr.tidyverse.org/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- google analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-115082821-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../../index.html">readr</a>
        <div class="info">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../../index.html">Home</a>
</li>
<li>
  <a href="../../articles/readr.html">Overview</a>
</li>
<li>
  <a href="../../articles/locales.html">Locales</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Release notes</li>
    <li>
      <a href="../../articles/releases/readr-1.0.0.html">Version 1.0.0</a>
    </li>
    <li>
      <a href="../../articles/releases/readr-0.2.0.html">Version 0.2.0</a>
    </li>
    <li>
      <a href="../../articles/releases/readr-0.1.0.html">Version 0.1.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../../news/index.html">Change log</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/readr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>readr 1.0.0</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/readr/blob/master/vignettes/releases/readr-1.0.0.Rmd"><code>vignettes/releases/readr-1.0.0.Rmd</code></a></small>
      <div class="hidden name"><code>readr-1.0.0.Rmd</code></div>

    </div>

    
    
<p>readr 1.0.0 is now available on CRAN. readr makes it easy to read many types of rectangular data, including csv, tsv and fixed width files. Compared to base equivalents like <code><a href="https://www.rdocumentation.org/packages/utils/topics/read.table">read.csv()</a></code>, readr is much faster and gives more convenient output: it never converts strings to factors, can parse date/times, and it doesn’t munge the column names. Install the latest version with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"readr"</span>)</a></code></pre></div>
<p>Releasing a version 1.0.0 was a deliberate choice to reflect the maturity and stability and readr, thanks largely to work by Jim Hester. readr is by no means perfect, but I don’t expect any major changes to the API in the future.</p>
<p>In this version we:</p>
<ul>
<li><p>Use a better strategy for guessing column types.</p></li>
<li><p>Improved the default date and time parsers.</p></li>
<li><p>Provided a full set of lower-level file and line readers and writers.</p></li>
<li><p>Fixed many bugs.</p></li>
</ul>
<div id="column-guessing" class="section level2">
<h2 class="hasAnchor">
<a href="#column-guessing" class="anchor"></a>Column guessing</h2>
<p>The process by which readr guesses the types of columns has received a substantial overhaul to make it easier to fix problems when the initial guesses aren’t correct, and to make it easier to generate reproducible code. Now column specifications are printing by default when you read from a file:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">mtcars2 &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/read_delim.html">read_csv</a></span>(<span class="kw"><a href="../../reference/readr_example.html">readr_example</a></span>(<span class="st">"mtcars.csv"</span>))</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; Parsed with column specification:</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; cols(</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt;   mpg = col_double(),</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt;   cyl = col_double(),</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt;   disp = col_double(),</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt;   hp = col_double(),</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt;   drat = col_double(),</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt;   wt = col_double(),</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt;   qsec = col_double(),</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt;   vs = col_double(),</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;   am = col_double(),</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;   gear = col_double(),</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt;   carb = col_double()</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; )</span></a></code></pre></div>
<p>The thought is that once you’ve figured out the correct column types for a file, you should make the parsing strict. You can do this either by copying and pasting the printed column specification or by saving the spec to disk:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Once you've figured out the correct types</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">mtcars_spec &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/read_rds.html">write_rds</a></span>(<span class="kw"><a href="../../reference/spec.html">spec</a></span>(mtcars2), <span class="st">"mtcars2-spec.rds"</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># Every subsequent load</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">mtcars2 &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/read_delim.html">read_csv</a></span>(</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="kw"><a href="../../reference/readr_example.html">readr_example</a></span>(<span class="st">"mtcars.csv"</span>), </a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  <span class="dt">col_types =</span> <span class="kw"><a href="../../reference/read_rds.html">read_rds</a></span>(<span class="st">"mtcars2-spec.rds"</span>)</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co"># In production, you might want to throw an error if there</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co"># are any parsing problems.</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="kw"><a href="../../reference/problems.html">stop_for_problems</a></span>(mtcars2)</a></code></pre></div>
<p>You can now also adjust the number of rows that readr uses to guess the column types with <code>guess_max</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">challenge &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/read_delim.html">read_csv</a></span>(<span class="kw"><a href="../../reference/readr_example.html">readr_example</a></span>(<span class="st">"challenge.csv"</span>))</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; Parsed with column specification:</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; cols(</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt;   x = col_double(),</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt;   y = col_logical()</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; )</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; Warning: 1000 parsing failures.</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt;  row col           expected     actual                                                               file</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 1001   y 1/0/T/F/TRUE/FALSE 2015-01-16 '/Users/jhester/Library/R/3.5/library/readr/extdata/challenge.csv'</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 1002   y 1/0/T/F/TRUE/FALSE 2018-05-18 '/Users/jhester/Library/R/3.5/library/readr/extdata/challenge.csv'</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 1003   y 1/0/T/F/TRUE/FALSE 2015-09-05 '/Users/jhester/Library/R/3.5/library/readr/extdata/challenge.csv'</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 1004   y 1/0/T/F/TRUE/FALSE 2012-11-28 '/Users/jhester/Library/R/3.5/library/readr/extdata/challenge.csv'</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; 1005   y 1/0/T/F/TRUE/FALSE 2020-01-13 '/Users/jhester/Library/R/3.5/library/readr/extdata/challenge.csv'</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt; .... ... .................. .......... ..................................................................</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; See problems(...) for more details.</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16">challenge &lt;-<span class="st"> </span><span class="kw"><a href="../../reference/read_delim.html">read_csv</a></span>(<span class="kw"><a href="../../reference/readr_example.html">readr_example</a></span>(<span class="st">"challenge.csv"</span>), <span class="dt">guess_max =</span> <span class="dv">1500</span>)</a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; Parsed with column specification:</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; cols(</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt;   x = col_double(),</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt;   y = col_date(format = "")</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="co">#&gt; )</span></a></code></pre></div>
<p>(If you want to suppress the printed specification, just provide the dummy spec <code><a href="https://www.rdocumentation.org/packages/base/topics/assignOps">col_types = cols()</a></code>)</p>
<p>You can now access the guessing algorithm from R: <code><a href="../../reference/parse_guess.html">guess_parser()</a></code> will tell you which parser readr will select.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../../reference/parse_guess.html">guess_parser</a></span>(<span class="st">"1,234"</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; [1] "number"</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># Were previously guessed as numbers</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw"><a href="../../reference/parse_guess.html">guess_parser</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"."</span>, <span class="st">"-"</span>))</a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; [1] "character"</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="kw"><a href="../../reference/parse_guess.html">guess_parser</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"10W"</span>, <span class="st">"20N"</span>))</a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; [1] "character"</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co"># Now uses the default time format</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="kw"><a href="../../reference/parse_guess.html">guess_parser</a></span>(<span class="st">"10:30"</span>)</a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt; [1] "time"</span></a></code></pre></div>
</div>
<div id="date-time-parsing-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#date-time-parsing-improvements" class="anchor"></a>Date-time parsing improvements:</h2>
<p>The date time parsers recognise three new format strings:</p>
<ul>
<li>
<p><code>%I</code> for 12 hour time format:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(hms)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="../../reference/parse_datetime.html">parse_time</a></span>(<span class="st">"1 pm"</span>, <span class="st">"%I %p"</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; 13:00:00</span></a></code></pre></div>
<p>Note that <code><a href="../../reference/parse_datetime.html">parse_time()</a></code> returns <code>hms</code> from the <a href="https://github.com/rstats-db/hms">hms</a> package, rather than a custom <code>time</code> class</p>
</li>
<li>
<p><code>%AD</code> and <code>%AT</code> are “automatic” date and time parsers. They are both slightly less flexible than previous defaults. The automatic date parser requires a four digit year, and only accepts <code>-</code> and <code>/</code> as separators. The flexible time parser now requires colons between hours and minutes and optional seconds.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="../../reference/parse_datetime.html">parse_date</a></span>(<span class="st">"2010-01-01"</span>, <span class="st">"%AD"</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; [1] "2010-01-01"</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw"><a href="../../reference/parse_datetime.html">parse_time</a></span>(<span class="st">"15:01"</span>, <span class="st">"%AT"</span>)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; 15:01:00</span></a></code></pre></div>
</li>
</ul>
<p>If the format argument is omitted in <code><a href="../../reference/parse_datetime.html">parse_date()</a></code> or <code><a href="../../reference/parse_datetime.html">parse_time()</a></code>, the default date and time formats specified in the locale will be used. These now default to <code>%AD</code> and <code>%AT</code> respectively. You may want to override in your standard <code><a href="../../reference/locale.html">locale()</a></code> if the conventions are different where you live.</p>
</div>
<div id="low-level-readers-and-writers" class="section level2">
<h2 class="hasAnchor">
<a href="#low-level-readers-and-writers" class="anchor"></a>Low-level readers and writers</h2>
<p>readr now contains a full set of efficient lower-level readers:</p>
<ul>
<li><p><code><a href="../../reference/read_file.html">read_file()</a></code> reads a file into a length-1 character vector; <code><a href="../../reference/read_file.html">read_file_raw()</a></code> reads a file into a single raw vector.</p></li>
<li><p><code><a href="../../reference/read_lines.html">read_lines()</a></code> reads a file into a character vector with one entry per line; <code><a href="../../reference/read_lines.html">read_lines_raw()</a></code> reads into a list of raw vectors with one entry per line.</p></li>
</ul>
<p>These are paired with <code><a href="../../reference/read_lines.html">write_lines()</a></code> and <code><a href="../../reference/read_file.html">write_file()</a></code> to efficient write character and raw vectors back to disk.</p>
</div>
<div id="other-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes" class="anchor"></a>Other changes</h2>
<ul>
<li><p><code><a href="../../reference/read_fwf.html">read_fwf()</a></code> was overhauled to reliably read only a partial set of columns, to read files with ragged final columns (by setting the final position/width to <code>NA</code>), and to skip comments (with the <code>comment</code> argument).</p></li>
<li><p>readr contains an experimental API for reading a file in chunks, e.g. <code><a href="../../reference/read_delim_chunked.html">read_csv_chunked()</a></code> and <code><a href="../../reference/read_lines_chunked.html">read_lines_chunked()</a></code>. These allow you to work with files that are bigger than memory. We haven’t yet finalised the API so please use with care, and send us your feedback.</p></li>
<li><p>There are many otherbug fixes and other minor improvements. You can see a complete list in the <a href="https://github.com/hadley/readr/releases/tag/v1.0.0">release notes</a>.</p></li>
</ul>
<p>A big thanks goes to all the community members who contributed to this release: @<a href="https://github.com/antoine-lizee">antoine-lizee</a>, @<a href="https://github.com/fpinter">fpinter</a>, @<a href="https://github.com/ghaarsma">ghaarsma</a>, @<a href="https://github.com/jennybc">jennybc</a>, @<a href="https://github.com/jeroenooms">jeroenooms</a>, @<a href="https://github.com/leeper">leeper</a>, @<a href="https://github.com/LluisRamon">LluisRamon</a>, @<a href="https://github.com/noamross">noamross</a>, and @<a href="https://github.com/tvedebrink">tvedebrink</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#column-guessing">Column guessing</a></li>
      <li><a href="#date-time-parsing-improvements">Date-time parsing improvements:</a></li>
      <li><a href="#low-level-readers-and-writers">Low-level readers and writers</a></li>
      <li><a href="#other-changes">Other changes</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="tidyverse">
  <p>readr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Jim Hester, Romain Francois, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>
      </footer>
</div>

  

  </body>
</html>
